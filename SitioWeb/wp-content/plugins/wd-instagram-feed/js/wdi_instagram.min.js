function WDIInstagram(a){this.access_tokens=[];this.filters=[];if(typeof a!="undefined"){if(typeof a.access_tokens!="undefined"){this.access_tokens=a.access_tokens}if(typeof a.filters!="undefined"){this.filters=a.filters}}var c=this;this.statusCode={429:function(){console.log(" 429: Too many requests. Try after one hour")}};this.getFilter=function(d){var f=c.filters;if(typeof f=="undefined"){return false}for(var e=0;e<f.length;e++){if(f[e].where==d){if(typeof f[e].what=="object"&&f[e].what.length==2){if(typeof window[f[e].what[0]]!="undefined"){if(typeof window[f[e].what[0]][f[e].what[1]]=="function"){return window[f[e].what[0]][f[e].what[1]]}}}else{if(typeof f[e].what=="string"){if(typeof window[f[e].what]=="function"){return window[f[e].what]}}else{if(typeof f[e].what=="function"){return f[e].what}else{return false}}}}}return false};function b(){var d=c.access_tokens,e=parseInt(Math.random(0,1)*d.length);return d[e]}this.addToken=function(d){if(typeof d=="string"){c.access_tokens.push(d)}};this.getTagRecentMedia=function(l,j){var k=this,m=false,e=false,g=this.statusCode,f=false,i=false,d=this.getFilter("getTagRecentMedia"),h="https://api.instagram.com/v1/tags/"+l+"/media/recent?access_token="+b();if(typeof j=="undefined"||j.length===0){m=true}else{if("success" in j){e=true}if("statusCode" in j){g=j.statusCode}if("error" in j){f=true}if("args" in j){i=true}else{j.args={}}if("count" in j){j.count=parseInt(j.count);if(!Number.isInteger(j.count)||j.count<=0){j.count=33}}else{j.count=33}h+="&count="+j.count;if("min_tag_id" in j){h+="&min_tag_id="+j.min_tag_id}if("max_tag_id" in j){h+="&max_tag_id="+j.max_tag_id}}jQuery.ajax({type:"POST",url:h,dataType:"jsonp",success:function(n){if(typeof n.data==="undefined"){n.data=[]}if(e){if(typeof j.success=="object"&&j.success.length==2){if(typeof window[j.success[0]]!="undefined"){if(typeof window[j.success[0]][j.success[1]]=="function"){if(d){n=d(n,k.filterArguments,j.args)}window[j.success[0]][j.success[1]](n)}}}else{if(typeof j.success=="string"){if(typeof window[j.success]=="function"){if(d){n=d(n,k.filterArguments,j.args)}window[j.success](n)}}else{if(typeof j.success=="function"){if(d){n=d(n,k.filterArguments,j.args)}j.success(n)}}}}},error:function(n){if(f){if(typeof j.error=="object"&&j.error.length==2){if(typeof window[j.error[0]][j.error[1]]=="function"){window[j.error[0]][j.error[1]](n)}}else{if(typeof j.error=="string"){if(typeof window[j.error]=="function"){window[j.error](n)}}else{if(typeof j.error=="function"){j.error(n)}}}}},statusCode:g})};this.searchForTagsByName=function(h,f){var d=this,i=false,e=false,g=this.statusCode;errorFlag=false;filter=this.getFilter("searchForTagsByName");if(typeof f=="undefined"||f.length===0){i=true}else{if("success" in f){e=true}if("error" in f){errorFlag=true}if("statusCode" in f){g=f.statusCode}}jQuery.ajax({type:"POST",url:"https://api.instagram.com/v1/tags/search?q="+h+"&access_token="+b(),dataType:"jsonp",success:function(j){if(e){if(typeof f.success=="object"&&f.success.length==2){if(typeof window[f.success[0]]!="undefined"){if(typeof window[f.success[0]][f.success[1]]=="function"){if(filter){j=filter(j,d.filterArguments)}window[f.success[0]][f.success[1]](j)}}}else{if(typeof f.success=="string"){if(typeof window[f.success]=="function"){if(filter){j=filter(j,d.filterArguments)}window[f.success](j)}}else{if(typeof f.success=="function"){if(filter){j=filter(j,d.filterArguments)}f.success(j)}}}}},error:function(j){if(errorFlag){if(typeof f.error=="object"&&f.error.length==2){if(typeof window[f.error[0]][f.error[1]]=="function"){window[f.error[0]][f.error[1]](j)}}else{if(typeof f.error=="string"){if(typeof window[f.error]=="function"){window[f.error](j)}}else{if(typeof f.error=="function"){f.error(j)}}}}},statusCode:g})};this.searchForUsersByName=function(k,g){var d=this,j=false,e=false,i=this.statusCode,f=false,h=this.getFilter("searchForUsersByName");if(typeof g=="undefined"||g.length===0){j=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/users/search?q="+k+"&access_token="+b(),success:function(l){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){l=h(l,d.filterArguments)}l.args=g;window[g.success[0]][g.success[1]](l)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){l=h(l,d.filterArguments)}l.args=g;window[g.success](l)}}else{if(typeof g.success=="function"){if(h){l=h(l,d.filterArguments)}l.args=g;g.success(l)}}}}},error:function(l){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](l)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](l)}}else{if(typeof g.error=="function"){g.error(l)}}}}},statusCode:this.statusCode})};this.getRecentLikedMedia=function(g){var d=this,k=false,e=false,i=this.statusCode,f=false,h=this.getFilter("getRecentLikedMedia"),j="https://api.instagram.com/v1/users/self/media/liked?access_token="+b();if(typeof g=="undefined"||g.length===0){k=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}if("args" in g){argFlag=true}else{g.args={}}if("count" in g){g.count=parseInt(g.count);if(!Number.isInteger(g.count)||g.count<=0){g.count=20}}else{g.count=20}j+="&count="+g.count;if("next_max_like_id" in g){j+="&next_max_like_id="+g.next_max_like_id}}jQuery.ajax({type:"POST",dataType:"jsonp",url:j,success:function(l){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){l=h(l,d.filterArguments,g.args)}window[g.success[0]][g.success[1]](l)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){l=h(l,d.filterArguments,g.args)}window[g.success](l)}}else{if(typeof g.success=="function"){if(h){l=h(l,d.filterArguments,g.args)}g.success(l)}}}}},error:function(l){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](l)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](l)}}else{if(typeof g.error=="function"){g.error(l)}}}}},statusCode:i})};this.getUserRecentMedia=function(l,j){var k=this,m=false,e=false,i=false,g=this.statusCode,f=false,d=this.getFilter("getUserRecentMedia"),h="https://api.instagram.com/v1/users/"+l+"/media/recent/?access_token="+b();if(typeof j=="undefined"||j.length===0){m=true}else{if("success" in j){e=true}if("statusCode" in j){g=j.statusCode}if("args" in j){i=true}else{j.args={}}if("error" in j){f=true}if("count" in j){j.count=parseInt(j.count);if(!Number.isInteger(j.count)||j.count<=0){j.count=33}}else{j.count=33}h+="&count="+j.count;if("min_id" in j){h+="&min_id="+j.min_id}if("max_id" in j){h+="&max_id="+j.max_id}}jQuery.ajax({type:"POST",dataType:"jsonp",url:h,success:function(n){if(typeof n.data==="undefined"){n.data=[]}if(e){if(typeof j.success=="object"&&j.success.length==2){if(typeof window[j.success[0]]!="undefined"){if(typeof window[j.success[0]][j.success[1]]=="function"){if(d){n=d(n,k.filterArguments,j.args)}window[j.success[0]][j.success[1]](n)}}}else{if(typeof j.success=="string"){if(typeof window[j.success]=="function"){if(d){n=d(n,k.filterArguments,j.args)}window[j.success](n)}}else{if(typeof j.success=="function"){if(d){n=d(n,k.filterArguments,j.args)}j.success(n)}}}}},error:function(n){if(f){if(typeof j.error=="object"&&j.error.length==2){if(typeof window[j.error[0]][j.error[1]]=="function"){window[j.error[0]][j.error[1]](n)}}else{if(typeof j.error=="string"){if(typeof window[j.error]=="function"){window[j.error](n)}}else{if(typeof j.error=="function"){j.error(n)}}}}},statusCode:g})};this.getSelfRecentMedia=function(f){var d=this,h=false,e=false,g=this.statusCode;errorFlag=false,filter=this.getFilter("getSelfRecentMedia"),baseUrl="https://api.instagram.com/v1/users/self/media/recent/?access_token="+b();if(typeof f=="undefined"||f.length===0){h=true}else{if("success" in f){e=true}if("error" in f){errorFlag=true}if("statusCode" in f){g=f.statusCode}if("count" in f){f.count=parseInt(f.count);if(!Number.isInteger(f.count)||f.count<=0){f.count=33}}else{f.count=33}baseUrl+="&count="+f.count;if("min_id" in f){baseUrl+="&min_id="+f.min_id}if("max_id" in f){baseUrl+="&max_id="+f.max_id}}jQuery.ajax({type:"POST",dataType:"jsonp",url:baseUrl,success:function(i){if(e){if(typeof f.success=="object"&&f.success.length==2){if(typeof window[f.success[0]]!="undefined"){if(typeof window[f.success[0]][f.success[1]]=="function"){if(filter){i=filter(i,d.filterArguments)}window[f.success[0]][f.success[1]](i)}}}else{if(typeof f.success=="string"){if(typeof window[f.success]=="function"){if(filter){i=filter(i,d.filterArguments)}window[f.success](i)}}else{if(typeof f.success=="function"){if(filter){i=filter(i,d.filterArguments)}f.success(i)}}}}},error:function(i){if(errorFlag){if(typeof f.error=="object"&&f.error.length==2){if(typeof window[f.error[0]][f.error[1]]=="function"){window[f.error[0]][f.error[1]](i)}}else{if(typeof f.error=="string"){if(typeof window[f.error]=="function"){window[f.error](i)}}else{if(typeof f.error=="function"){f.error(i)}}}}},statusCode:g})};this.getUserInfo=function(e,h){var d=this,k=false,f=false,j=this.statusCode,g=false,i=this.getFilter("getUserInfo");if(typeof h=="undefined"||h.length===0){k=true}else{if("success" in h){f=true}if("error" in h){g=true}if("statusCode" in h){j=h.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/users/"+e+"/?access_token="+b(),success:function(l){if(f){if(typeof h.success=="object"&&h.success.length==2){if(typeof window[h.success[0]]!="undefined"){if(typeof window[h.success[0]][h.success[1]]=="function"){if(i){l=i(l,d.filterArguments)}window[h.success[0]][h.success[1]](l)}}}else{if(typeof h.success=="string"){if(typeof window[h.success]=="function"){if(i){l=i(l,d.filterArguments)}window[h.success](l)}}else{if(typeof h.success=="function"){if(i){l=i(l,d.filterArguments)}h.success(l)}}}}},error:function(l){if(g){if(typeof h.error=="object"&&h.error.length==2){if(typeof window[h.error[0]][h.error[1]]=="function"){window[h.error[0]][h.error[1]](l)}}else{if(typeof h.error=="string"){if(typeof window[h.error]=="function"){window[h.error](l)}}else{if(typeof h.error=="function"){h.error(l)}}}}},statusCode:j})};this.getSelfInfo=function(g){var d=this,j=false,e=false,i=this.statusCode,f=false,h=this.getFilter("getSelfInfo");if(typeof g=="undefined"||g.length===0){j=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/users/self/?access_token="+b(),success:function(k){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){k=h(k,d.filterArguments)}window[g.success[0]][g.success[1]](k)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){k=h(k,d.filterArguments)}window[g.success](k)}}else{if(typeof g.success=="function"){if(h){k=h(k,d.filterArguments)}g.success(k)}}}}},error:function(k){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](k)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](k)}}else{if(typeof g.error=="function"){g.error(k)}}}}},statusCode:i})};this.getRecentMediaComments=function(j,g){var d=this,k=false,e=false,i=this.statusCode,f=false,h=this.getFilter("getRecentMediaComments");if(typeof g=="undefined"||g.length===0){k=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/media/"+j+"/comments?access_token="+b(),success:function(l){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){l=h(l,d.filterArguments)}window[g.success[0]][g.success[1]](l)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){l=h(l,d.filterArguments)}window[g.success](l)}}else{if(typeof g.success=="function"){if(h){l=h(l,d.filterArguments)}g.success(l)}}}}},error:function(l){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](l)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](l)}}else{if(typeof g.error=="function"){g.error(l)}}}}},statusCode:i})};this.getRecentMediaLikes=function(j,g){var d=this,k=false,e=false,i=this.statusCode,f=false,h=this.getFilter("getRecentMediaLikes");if(typeof g=="undefined"||g.length===0){k=true}else{if("success" in g){e=true}if("error" in g){f=true}if("statusCode" in g){i=g.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:"https://api.instagram.com/v1/media/"+j+"/likes?access_token="+b(),success:function(l){if(e){if(typeof g.success=="object"&&g.success.length==2){if(typeof window[g.success[0]]!="undefined"){if(typeof window[g.success[0]][g.success[1]]=="function"){if(h){l=h(l,d.filterArguments)}window[g.success[0]][g.success[1]](l)}}}else{if(typeof g.success=="string"){if(typeof window[g.success]=="function"){if(h){l=h(l,d.filterArguments)}window[g.success](l)}}else{if(typeof g.success=="function"){if(h){l=h(l,d.filterArguments)}g.success(l)}}}}},error:function(l){if(f){if(typeof g.error=="object"&&g.error.length==2){if(typeof window[g.error[0]][g.error[1]]=="function"){window[g.error[0]][g.error[1]](l)}}else{if(typeof g.error=="string"){if(typeof window[g.error]=="function"){window[g.error](l)}}else{if(typeof g.error=="function"){g.error(l)}}}}},statusCode:i})};this.requestByUrl=function(n,m){var o=this,p=false,f=false,g=false,l=false,j=this.statusCode,e=this.getFilter("requestByUrl"),d,k;d=n.split("?")[1].split("&");for(var h=0;h<d.length;h++){d[h]=d[h].split("=");if(d[h][0]=="access_token"){d[h][1]=b()}d[h]=d[h].join("=")}d=d.join("&");n=n.split("?")[0]+"?"+d;if(typeof m=="undefined"||m.length===0){p=true}else{if("success" in m){f=true}if("args" in m){l=true}else{m.args={}}if("error" in m){g=true}if("statusCode" in m){j=m.statusCode}}jQuery.ajax({type:"POST",dataType:"jsonp",url:n,success:function(i){if(f){if(typeof m.success=="object"&&m.success.length==2){if(typeof window[m.success[0]]!="undefined"){if(typeof window[m.success[0]][m.success[1]]=="function"){if(e){i=e(i,o.filterArguments,m.args)}window[m.success[0]][m.success[1]](i)}}}else{if(typeof m.success=="string"){if(typeof window[m.success]=="function"){if(e){i=e(i,o.filterArguments,m.args)}window[m.success](i)}}else{if(typeof m.success=="function"){if(e){i=e(i,o.filterArguments,m.args)}m.success(i)}}}}},error:function(i){if(g){if(typeof m.error=="object"&&m.error.length==2){if(typeof window[m.error[0]][m.error[1]]=="function"){window[m.error[0]][m.error[1]](i)}}else{if(typeof m.error=="string"){if(typeof window[m.error]=="function"){window[m.error](i)}}else{if(typeof m.error=="function"){m.error(i)}}}}},statusCode:j})}};